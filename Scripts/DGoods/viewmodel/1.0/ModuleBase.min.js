/*! bate version - v1.0 - vA packaged deploy by 冯达庆 . -2016-06-15 */;define(["jquery","jquerycrsdomain","../utils/SysConfig"],function(a,b,c){var d=function(){this.isSuccess=null,this.ErrorMsg=null,this.Data=null},e=function(a,b,c,d,e){this.Url=a,this.Method=b,this.CallBack=d,this.Data=c,this.ConentType=e,this.module={},this.UsingType=!1,null==b&&(this.Method=window.SysInfo.Ajax.postMethod),"undefined"!=typeof e&&(this.UsingType=!0)};e.prototype={Ajax:function(){var b=this,c=new d;0==b.UsingType?!function(){a.ajax({type:b.Method,url:b.Url,data:b.Data,dataType:"json",success:function(a){c.isSuccess=!0,c.Data=a,b.CallBack.call(this,c)},error:function(a,d,e){c.isSuccess=!1,c.Data=null,c.ErrorMsg=e,b.CallBack.call(this,c)}})}():!function(){var c=new d;a.ajax({type:b.Method,url:b.Url,data:b.Data,contentType:b.ConentType,dataType:"json",success:function(a){c.isSuccess=!0,c.Data=a,b.CallBack.call(this,c)},error:function(a,d,e){c.isSuccess=!1,c.Data=null,c.ErrorMsg=e,b.CallBack.call(this,c)}})}()},JqChain:function(){var b=this,c=new d;return"post"==b.Method.toLowerCase()?a.post(b.Url,b.Data,b.ConentType).done(function(a){c.isSuccess=!0,c.Data=a,b.CallBack(c)}).fail(function(a,d){c.isSuccess=!1,c.Data=null,c.ErrorMsg=d,b.CallBack(c)}):a.get(b.Url,b.Data,b.ConentType).done(function(a){c.isSuccess=!0,c.Data=a,b.CallBack(c)}).fail(function(a,b){c.isSuccess=!1,c.Data=null,c.ErrorMsg=b,selft.CallBack(c)})}};var f,g={GetInstance:function(){return f||(f=new e),f},MBase:e};return g});